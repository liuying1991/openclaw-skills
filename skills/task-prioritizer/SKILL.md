---
name: task-prioritizer
description: 任务优先级判断系统。自动判断任务重要性和紧急性，决定执行顺序。基于 Eisenhower 矩阵原理。
allowed-tools: All
---

# Task Prioritizer - 任务优先级判断

**自动判断任务优先级，决定执行顺序**

---

## 🎯 Eisenhower 矩阵

```
                    紧急                    不紧急
           ┌─────────────────────┬─────────────────────┐
     重要   │   Q1: 立即执行      │   Q2: 计划执行      │
           │   (危机、截止日期)   │   (学习、规划)      │
           ├─────────────────────┼─────────────────────┤
   不重要   │   Q3: 委托/快速处理 │   Q4: 删除/推迟     │
           │   (干扰、部分会议)   │   (浪费时间的事)    │
           └─────────────────────┴─────────────────────┘
```

---

## 📋 优先级判断规则

### 1. 任务类型优先级

| 优先级 | 任务类型 | 说明 |
|--------|----------|------|
| P0 | 系统故障 | 服务崩溃、无法运行 |
| P0 | 用户紧急请求 | 用户明确说"紧急" |
| P1 | 网络搜索 | 用户等待结果 |
| P1 | 文件操作 | 用户等待结果 |
| P2 | 知识整理 | 可以后台处理 |
| P2 | 自我优化 | 可以后台处理 |
| P3 | 学习新技能 | 空闲时处理 |

### 2. 关键词识别

**紧急关键词** (立即执行):
- 紧急、马上、立刻、快点、现在、 ASAP
- 崩溃、错误、失败、无法

**重要关键词** (优先执行):
- 重要、关键、必须、需要
- 工作、项目、客户

**可推迟关键词** (稍后执行):
- 以后、有空、顺便、可能
- 学习、研究、探索

### 3. 时间因素

| 情况 | 优先级调整 |
|------|------------|
| 用户等待中 | +1 优先级 |
| 多任务并行 | 选择最高优先级 |
| 长时间任务 | 拆分为子任务 |

---

## 🔄 决策流程

```
收到任务
    │
    ├─ 检查关键词
    │   ├─ 紧急关键词 → P0
    │   ├─ 重要关键词 → P1
    │   └─ 可推迟关键词 → P2/P3
    │
    ├─ 检查任务类型
    │   ├─ 系统故障 → P0
    │   ├─ 用户请求 → P1
    │   └─ 后台任务 → P2/P3
    │
    ├─ 检查用户状态
    │   ├─ 用户等待 → +1 优先级
    │   └─ 用户离开 → 可推迟
    │
    └─ 确定最终优先级
        ├─ P0 → 立即执行
        ├─ P1 → 优先执行
        ├─ P2 → 正常执行
        └─ P3 → 空闲执行
```

---

## 📊 优先级示例

| 任务 | 类型 | 关键词 | 用户状态 | 最终优先级 |
|------|------|--------|----------|------------|
| "紧急搜索鸡蛋营养" | 搜索 | 紧急 | 等待 | P0 |
| "搜索鸡蛋营养" | 搜索 | 无 | 等待 | P1 |
| "整理一下知识库" | 整理 | 无 | 等待 | P2 |
| "有空学习一下 Python" | 学习 | 有空 | 离开 | P3 |
| "系统崩溃了！" | 故障 | 崩溃 | 等待 | P0 |

---

## ⚡ 快速判断命令

```python
# 伪代码
def get_priority(task):
    if has_keywords(task, ["紧急", "崩溃", "失败"]):
        return "P0"
    if has_keywords(task, ["重要", "关键", "必须"]):
        return "P1"
    if has_keywords(task, ["以后", "有空", "顺便"]):
        return "P2"
    if task.type in ["搜索", "文件操作"]:
        return "P1"
    if task.type in ["整理", "优化"]:
        return "P2"
    return "P3"
```

---

## 💡 使用建议

1. **P0 任务**: 立即执行，不思考
2. **P1 任务**: 快速执行，简短思考
3. **P2 任务**: 正常执行，可以思考
4. **P3 任务**: 空闲时执行

---

**任务优先级判断系统帮助 OpenClaw 高效处理任务！**
